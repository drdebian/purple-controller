# Here you can define all your data sets by using simple YAML syntax.
#
# Documentation for this file format can be found in "The Data Catalog"
# Link: https://kedro.readthedocs.io/en/stable/05_data/01_data_catalog.html

raw_lila:
  type: purple_controller.extras.datasets.partitioned_prefixed_data_set.IncrementalDataSet
  dataset:
    type: pandas.CSVDataSet
    load_args:
      delimiter: ";"
      #names: ["TimeDate","PV-W","Kreisel Arbeitsmodus","Kreisel-Ladeleistung","Kreisel-Entladeleistung","Kreisel-SOC","Keba-X1-Ladeleistung","Keba-X1-Phase1-Watt","Keba-X1-Phase2-Watt","Keba-X1-Phase3-Watt","Keba-C1-Ladeleistung","Keba-C1-Phase1-Watt","Keba-C1-Phase2-Watt","Keba-C1-Phase3-Watt"]
      #header: 0
      na_values: ["undefined", "null"]
      keep_default_na: True
  filename_suffix: .csv
  filename_prefix: LiLa
  path: sftp:///var/local/NodeRed/csv/
  credentials: my_remotessh_creds

#  path: data/01_raw/
#  path: /home/au/data/lila/raw/

raw_location:
  type: IncrementalDataSet
  dataset:
    type: pandas.CSVDataSet
    load_args:
      delimiter: ";"
      na_values: ["undefined", "null"]
      keep_default_na: True
  filename_suffix: .csv
  path: sftp:///var/local/NodeRed/location
  credentials: my_remotessh_creds

_raw_charger: &raw_charger
  type: IncrementalDataSet
  dataset:
    type: pandas.CSVDataSet
    load_args:
      delimiter: ";"
      na_values: ["undefined", "null"]
      keep_default_na: True
  filename_suffix: .csv
  path: sftp:///var/local/NodeRed/charger
  credentials: my_remotessh_creds

raw_charger1:
  <<: *raw_charger
  path: sftp:///var/local/NodeRed/charger/wallbox1

raw_charger2:
  <<: *raw_charger
  path: sftp:///var/local/NodeRed/charger/wallbox2

raw_charger3:
  <<: *raw_charger
  path: sftp:///var/local/NodeRed/charger/wallbox3

raw_charger4:
  <<: *raw_charger
  path: sftp:///var/local/NodeRed/charger/wallbox4

raw_charger5:
  <<: *raw_charger
  path: sftp:///var/local/NodeRed/charger/wallbox5

raw_charger6:
  <<: *raw_charger
  path: sftp:///var/local/NodeRed/charger/wallbox6


_raw_car: &raw_car
  type: IncrementalDataSet
  dataset:
    type: pandas.CSVDataSet
    load_args:
      delimiter: ";"
      na_values: ["undefined", "null"]
      keep_default_na: True
  filename_suffix: .csv
  path: sftp:///var/local/NodeRed/cars
  credentials: my_remotessh_creds

raw_car1:
  <<: *raw_car
  path: sftp:///var/local/NodeRed/cars/car1

raw_car2:
  <<: *raw_car
  path: sftp:///var/local/NodeRed/cars/car2

raw_car3:
  <<: *raw_car
  path: sftp:///var/local/NodeRed/cars/car3

raw_car4:
  <<: *raw_car
  path: sftp:///var/local/NodeRed/cars/car4

raw_car5:
  <<: *raw_car
  path: sftp:///var/local/NodeRed/cars/car5

raw_car6:
  <<: *raw_car
  path: sftp:///var/local/NodeRed/cars/car6

raw_carsample1:
  <<: *raw_car
  path: sftp:///var/local/NodeRed/cars/sample1

raw_carsample2:
  <<: *raw_car
  path: sftp:///var/local/NodeRed/cars/sample2



table_lila:
  type: pandas.SQLTableDataSet
  credentials: my_sqlite_creds
  table_name: lila
  save_args:
    if_exists: append


table_location:
  type: pandas.SQLTableDataSet
  credentials: my_sqlite_creds
  table_name: location
  save_args:
    if_exists: append


_table_charger: &table_charger
  type: pandas.SQLTableDataSet
  credentials: my_sqlite_creds
  table_name: charger
  save_args:
    if_exists: append

table_charger1:
  <<: *table_charger
  table_name: charger1

table_charger2:
  <<: *table_charger
  table_name: charger2

table_charger3:
  <<: *table_charger
  table_name: charger3

table_charger4:
  <<: *table_charger
  table_name: charger4

table_charger5:
  <<: *table_charger
  table_name: charger5

table_charger6:
  <<: *table_charger
  table_name: charger6


_table_car: &table_car
  type: pandas.SQLTableDataSet
  credentials: my_sqlite_creds
  table_name: car
  save_args:
    if_exists: append

table_car1:
  <<: *table_car
  table_name: car1

table_car2:
  <<: *table_car
  table_name: car2

table_car3:
  <<: *table_car
  table_name: car3

table_car4:
  <<: *table_car
  table_name: car4

table_car5:
  <<: *table_car
  table_name: car5

table_car6:
  <<: *table_car
  table_name: car6

table_carsample1:
  <<: *table_car
  table_name: carsample1

table_carsample2:
  <<: *table_car
  table_name: carsample2




_raw_auto: &raw_auto
  type: purple_controller.extras.datasets.partitioned_prefixed_data_set.IncrementalDataSet
  dataset:
    type: pandas.CSVDataSet
    load_args:
      delimiter: ";"
      names: ["id","field2","status","positionLat","positionLon","distanceLastCharge","avgSpeedLastCharge","stateOfCharge"]
      header: 0
      na_values: ["undefined", "null"]
      keep_default_na: True
  filename_suffix: .csv
  #filename_prefix: auto1
  #path: data/01_raw/
  path: sftp:///var/local/NodeRed/csv/
  credentials: my_remotessh_creds


raw_auto1:
  <<: *raw_auto
  filename_prefix: auto1

raw_auto2:
  <<: *raw_auto
  filename_prefix: auto2

raw_auto3:
  <<: *raw_auto
  filename_prefix: auto3

raw_auto4:
  <<: *raw_auto
  filename_prefix: auto4



_table_auto: &table_auto
  type: pandas.SQLTableDataSet
  credentials: my_sqlite_creds
  #table_name: auto1
  save_args:
    if_exists: append

table_auto1:
  <<: *table_auto
  table_name: auto1
  
table_auto2:
  <<: *table_auto
  table_name: auto2

table_auto3:
  <<: *table_auto
  table_name: auto3

table_auto4:
  <<: *table_auto
  table_name: auto4



# raw_config_lila:
#   type: json.JSONDataSet
#   filepath: conf/base/anlage.json

# raw_config_cars:
#   type: json.JSONDataSet
#   filepath: conf/base/car_scheme.json


raw_config_lila:
  type: json.JSONDataSet
  filepath: sftp:///var/local/NodeRed/json/anlage.json
  credentials: my_remotessh_creds

raw_config_cars:
  type: json.JSONDataSet
  filepath: sftp:///var/local/NodeRed/json/cars.json
  credentials: my_remotessh_creds